
{% extends "layout/page.html" %}
{% block css %}
    <style>
        .category-image {
            width: 640px;  /* Set a fixed width */
            height: 360px; /* Set a fixed height */
            object-fit: cover; /* Ensures the image covers the specified dimensions without distortion */
            border-radius: 8px; /* Optional: adds rounded corners to the images */
        }
    </style>

{% endblock %}
{% block sidebar %}
    {% include "layout/sidebar.html" %}
{% endblock %}
{% block content %}
    <div id="wrapper">

<section id="two" class="wrapper style3 fade-up">
    <h2>Your Shopping Cart</h2>
    {% if cart.items %}
        <div class="cart-items">
            {% for item in cart.items %}
                <div class="cart-item">
                    <div>
                        <img src="{{ item.product.display_image_url  if item.product.display_image_url else '/static/images/default_product.png' }}" class="product-image" alt="{{ item.name }}">
                        <span>{{ item.name| title }}</span> (Quantity: {{ item.quantity }})
                    </div>
                    <div>
                        <span>Price: {{ item.line_price | currency }}</span>
                        <form action="{{ url_for('cart.remove_from_cart', product_id=item.product_id) }}" method="post">
                            <button type="submit">Remove</button>
                        </form>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="total">
            Total: {{ cart.total_price | currency }}
        </div>
        <a href="{{ url_for('cart.checkout') }}" class="button">Proceed to Checkout</a>
    {% else %}
        <p>Your cart is empty!</p>
    {% endif %}
</section>
</div>
{% endblock %}
